angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=1948e66822",controller:["$rootScope","$scope","$state","$timeout","$api",function(e,t,a,n,r){var l=this,u=n(function e(){l.timeStr=moment().format("H:mm:ss"),u=n(e,1e3)});l.menuData=e.menuData,l.more=[{key:"ALL",title:" 全部"},{key:"HOTWATERMETER",title:"电"},{key:"TEMPERATURECONTROL",title:"水"},{key:"TTYPETEMPCONTROL",title:"冷热量"},{key:"DDWATERMETER",title:"费用"}],l.analyseTime=[{title:"今日",key:"today"},{title:"本月",key:"month"},{title:"本年",key:"year"}],l.energytype=l.more[0].title,l.chooseenergytype=function(e){l.energytype=e.title},"dashboard.else"==a.current.name?l.menuData.active="dashboard.analyse":l.menuData.active=a.current.name,l.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,l.map="/buildingmap"==a.current.url,l.statistic="/statistic/:tab"==a.current.url,APP.title=document.title,document.title=APP.title="能耗分析系统-"+APP.Project[0].title,e.type=l.type="usage",l.fulltype=function(){"usage"==l.type?e.type=l.type="cost":e.type=l.type="usage"},t.$on("$stateChangeSuccess",function(e,t,n,r,u){"dashboard.else"==t.name?l.menuData.active="dashboard.analyse":l.menuData.active=t.name,l.map="/buildingmap"==a.current.url,l.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,l.statistic="/statistic/:tab"==a.current.url}),t.$on("$destroy",function(){n.cancel(u)})}]});