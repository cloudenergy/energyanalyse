angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=a56204839d",controller:["$rootScope","$scope","$state","$interval","$api",function(e,t,a,n,r){function i(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(void 0!==t&&t)t.call(e);else if(void 0!==window.ActiveXObject){var a=new ActiveXObject("WScript.Shell");null!=a&&a.SendKeys("{F11}")}}var l,u=this,c=function(){r.weather.recent({projectid:APP.Project[0]._id},function(e){e=e.result,u.weather=e.weather,u.humidity=e.humidity,u.temperature=e.temperature,u.wind_direction=e.wind_direction,u.wind_power=e.wind_power,u.aqi=e.aqi,u.pm25=e.pm25})},l=n(function(){c()},36e5);u.shownav=!0,c(),u.menuData=e.menuData,u.more=[{key:"ALL",title:" 全部"},{key:"HOTWATERMETER",title:"电"},{key:"TEMPERATURECONTROL",title:"水"},{key:"TTYPETEMPCONTROL",title:"冷热量"},{key:"DDWATERMETER",title:"费用"}],u.analyseTime=[{title:"今日",key:"today"},{title:"本月",key:"month"},{title:"本年",key:"year"}],u.dblclick=function(){u.shownav=!u.shownav,i()},u.energytype=u.more[0].title,u.chooseenergytype=function(e){u.energytype=e.title},"dashboard.else"==a.current.name?u.menuData.active="dashboard.analyse":u.menuData.active=a.current.name,u.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,u.map="/buildingmap"==a.current.url,u.dashboard="/main"==a.current.url,u.statistic="/statistic/:tab"==a.current.url,APP.title=document.title,document.title=APP.title="能耗分析系统-"+APP.Project[0].title,e.type=u.type="usage",u.fulltype=function(){"usage"==u.type?e.type=u.type="cost":e.type=u.type="usage"},t.$on("$stateChangeSuccess",function(e,t,r,i,c){"dashboard.else"==t.name?u.menuData.active="dashboard.analyse":u.menuData.active=t.name,u.map="/buildingmap"==a.current.url,u.dashboard="/main"==a.current.url,u.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,u.statistic="/statistic/:tab"==a.current.url,!u.dashboard&&n.cancel(l)||l()})}]});