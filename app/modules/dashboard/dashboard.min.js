angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=2cc93a6a88",controller:["$rootScope","$scope","$state","$interval","$api",function(e,t,a,n,r){function i(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(void 0!==t&&t)t.call(e);else if(void 0!==window.ActiveXObject){var a=new ActiveXObject("WScript.Shell");null!=a&&a.SendKeys("{F11}")}}var s,o=this,u=function(){r.weather.recent({projectid:APP.Project[0]._id},function(t){var t=t.result;e.weather=o.weather=t.weather,e.humidity=o.humidity=t.humidity,e.temperature=o.temperature=t.temperature,e.wind_direction=o.wind_direction=t.wind_direction,e.wind_power=o.wind_power=t.wind_power,e.aqi=o.aqi=t.aqi,e.pm25=o.pm25=t.pm25})},s=n(function(){u()},36e5);"/system"==a.current.url?(e.shownav=o.shownav=!1,o.dashboard=!0,o.isHaveNav=!0):"/chosen"==a.current.url?(e.shownav="",o.isHaveNav=!1):"/main"==a.current.url?(e.shownav=o.shownav=!1,o.dashboard=!0,o.isHaveNav=!0):(e.shownav=o.shownav=!0,o.dashboard=!1,o.isHaveNav=!0),u(),o.menuData=e.menuData,o.more=[{key:"ALL",title:" 全部"},{key:"HOTWATERMETER",title:"电"},{key:"TEMPERATURECONTROL",title:"水"},{key:"TTYPETEMPCONTROL",title:"冷热量"},{key:"DDWATERMETER",title:"费用"}],o.analyseTime=[{title:"今日",key:"today"},{title:"本月",key:"month"},{title:"本年",key:"year"}],o.dblclick=function(){e.shownav=o.shownav=!o.shownav,i()},o.energytype=o.more[0].title,o.chooseenergytype=function(e){o.energytype=e.title},o.menuData.active=a.current.name,o.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,o.map="/buildingmap"==a.current.url,o.statistic="/statistic/:tab"==a.current.url,APP.title=document.title,document.title=APP.title="能耗分析系统-"+APP.Project[0].title,e.type=o.type="usage",o.fulltype=function(){"usage"==o.type?e.type=o.type="cost":e.type=o.type="usage"},t.$on("$stateChangeSuccess",function(t,r,i,u,l){o.menuData.active=r.name,o.map="/buildingmap"==a.current.url,"/system"==a.current.url?(e.shownav=o.shownav=!1,o.dashboard=!0,o.isHaveNav=!0):"/chosen"==a.current.url?(e.shownav=o.shownav=!1,o.dashboard=!0,o.isHaveNav=!1):"/main"==a.current.url?(e.shownav=o.shownav=!1,o.dashboard=!0,o.isHaveNav=!0):(e.shownav=o.shownav=!0,o.dashboard=!1,o.isHaveNav=!0),o.analyse="/analyse"==a.current.url||"/else{datatype}"==a.current.url,o.statistic="/statistic/:tab"==a.current.url,!o.dashboard&&(s&&n.cancel(s)||s())})}]});