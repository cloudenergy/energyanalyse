angular.module("app").component("map",{templateUrl:"app/modules/map/map.html?rev=a21181dfd1",controller:["$api","$q","$rootScope","$interval","$timeout","$scope","$element",function(e,o,t,r,l,n,a){function i(e){var o=new Date;o.setDate(o.getDate()+e);var t=o.getFullYear(),r=o.getMonth()+1,l=o.getDate();return String(t)+String(r<10&&"0"+r||r)+String(l<10&&"0"+l||l)}var p=this;i(0),i(-1),i(-2);p.showchart=!1;var c=ol.proj.get("EPSG:4326"),s=[-400,400],u=[.7031250000029744,.3515625000014872,.1757812499888463,.08789062499442316,.04394531250910888,.021972656242657134,.010986328121328567,.00549316407256159,.0027465820243834896,.0013732910240890498,.0006866455120445249,.0003433227441249574,.00017166138395978374,8583068008258684e-20,4291534004129342e-20,2145767002064671e-20,9658089455004757e-21,5364423453814192e-21,2682199829602067e-21],g=new ol.tilegrid.TileGrid({tileSize:256,origin:s,resolutions:u});p.jy=0,p.xy=0;var m=[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(0,0,0,0)"}),fill:new ol.style.Fill({color:"rgba(0, 0, 255, .3)"})})],y={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[229.6273403065467,118.55920073709898],[274.7205021901195,105.47227238650828],[274.772850098227,93.71755673627014],[253.96276384912517,64.07233098638773],[208.54501165656714,76.39674183691446],[208.69357854638793,88.17763856930982]]]}}]},w=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(y)});new ol.layer.Vector({source:w,style:m});new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.TileImage({projection:c,tileGrid:g,tileUrlFunction:function(e,o,t){var r=e[0],l=e[1],n=-e[2]-1;return console.log(r),"/app/img/map/3dmap/png"+r+"/"+l+","+n+".png"}})})],view:new ol.View({center:[240.98712236599482,95.68450925373739],resolutions:u,projection:c,zoom:2})}).on("pointermove",function(e){console.log(e.coordinate),p.jy=e.coordinate,p.xy=ol.proj.transform(e.coordinate,"EPSG:3857","EPSG:4326")})}]});