angular.module("app").component("map",{templateUrl:"app/modules/map/map.html?rev=732f603161",controller:["$api","$q","$rootScope","$interval","$timeout","$scope","$element",function(e,t,a,r,o,i,n){function l(e){var t=new Date;t.setDate(t.getDate()+e);var a=t.getFullYear(),r=t.getMonth()+1,o=t.getDate();return String(a)+String(r<10&&"0"+r||r)+String(o<10&&"0"+o||o)}function s(e){var t=new Date,a=t.getFullYear(),r=t.getMonth()+1+e,o=t.getDate();return String(a)+String(r<10&&"0"+r||r)+String(o<10&&"0"+o||o)}function y(e){var t=new Date,a=t.getFullYear()+e,r=t.getMonth()+1,o=t.getDate();return String(a)+String(r<10&&"0"+r||r)+String(o<10&&"0"+o||o)}function c(e){var t=new Date,a=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate(),i=e,n=String(a+"/"+r+"/"+ +o+" "+i+":0000");return new Date(n).getTime()}function p(e){var t=new Date(e);t.getDate(),t.getDate();return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}var u=APP.Project[0]._id,m=this,g=l(0),d=l(-1);l(-2);m.showchart=!1;var D=s(-1),w=s(0),f=y(0),h=y(-1),P=(ol.proj.get("EPSG:4326"),[0,0]),F=[.7031250000029744,.3515625000014872,.1757812499888463,.08789062499442316,.04394531250910888,.021972656242657134,.010986328121328567,.00549316407256159,.0027465820243834896,.0013732910240890498,.0006866455120445249,.0003433227441249574,.00017166138395978374,8583068008258684e-20,4291534004129342e-20,2145767002064671e-20,9658089455004757e-21,5364423453814192e-21,2682199829602067e-21],x=new ol.tilegrid.TileGrid({tileSize:256,origin:P,resolutions:F}),b=new ol.layer.Tile({source:new ol.source.TileImage({tileGrid:x,tileUrlFunction:function(e,t,a){return"/app/img/map/3dmap/png"+e[0]+"/"+e[1]+","+(-e[2]-1)+".png"}})}),v=[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(0,0,0,0)"}),fill:new ol.style.Fill({color:"rgba(255, 0, 255, 0)"})})],E=[new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(0,0,0,0)"}),fill:new ol.style.Fill({color:"rgba(0, 0, 255, .5)"})})],S={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",id:"26455",properties:{name:"图书馆"},geometry:{type:"Polygon",coordinates:[[[639.827613789968,-332.48817441737947],[653.5842132153647,-336.1322021271092],[659.7877120553031,-327.06779477905155],[659.8024749337202,-323.4889983925599],[662.2798919257505,-324.15538785784963],[662.4045180854105,-322.95547483302346],[666.8670272404008,-316.72588346378984],[675.0209426451569,-306.3304137989221],[674.8135757018107,-294.7892761043419],[659.0457915841588,-290.05485532827515],[658.2276534616522,-291.07727048934305],[644.7542953082102,-287.2883605774741],[644.6152495928869,-285.80863950823203],[629.6693801480345,-281.5023422062592],[621.7674636446296,-293.4125518612652],[621.5655898653456,-305.0065612599436],[614.9950790015047,-302.8494643972875],[608.6848067851082,-311.9598769943657],[608.6394881815954,-323.6239242348365],[617.8175353611889,-326.60259244753814],[618.0479049290453,-330.37055967142015],[621.4368438326389,-331.4255904941071],[621.1168670260186,-332.8222274569091],[634.7797393396048,-336.4933776641957],[635.9103011681464,-335.09159086008543],[637.4401473594555,-335.42873380439994],[639.2995833944938,-333.31867215902605]]]}},{type:"Feature",id:"24256",properties:{name:"教三教学楼"},geometry:{type:"Polygon",coordinates:[[[555.7478713636625,-306.6919326587623],[555.7097625379813,-293.617858868088],[555.9981536512443,-293.4403610043297],[556.2144469861914,-293.51348875090713],[560.2907180430617,-287.71991727910677],[560.5674361826926,-287.22724912728256],[560.6635665537802,-286.9306182679264],[604.8746108624985,-299.95525358204134],[604.8694610211901,-313.1573867599146],[600.3369140244074,-320.1625442301732]]]}},{type:"Feature",id:"23610",properties:{name:"游泳馆"},geometry:{type:"Polygon",coordinates:[[[390.923221534701,-131.24227943291157],[390.994302298251,-127.21521812261732],[390.33614330853214,-126.69412891475852],[389.8847091755562,-126.01998184498616],[389.8687210955027,-125.05407777296338],[390.106709268019,-124.70529322402525],[390.26455337045815,-124.58166564959873],[388.7583132935695,-123.50445602663014],[387.1446373921174,-121.9549361152017],[387.6892504629849,-121.57549925991896],[389.51372461737185,-120.6038924332274],[390.9785178880071,-119.5280066640212],[392.36326892347006,-118.46647961639174],[393.5923143894946,-117.13346071256693],[394.53102854193594,-115.88547395424966],[395.47870416599966,-114.49389998016518],[395.7632308900093,-114.05519521028914],[397.2108140617335,-114.06120346967231],[398.22060897772485,-114.37017057083385],[399.9394803358348,-114.30133017518942],[401.5168011762735,-114.30214485442781],[401.9811683421589,-113.79836758038493],[403.10664771000245,-113.41893072510219],[404.0812077489332,-113.14794804343084],[405.4559789637258,-113.16821318948594],[406.6314592698258,-113.42667017786694],[407.6025569219934,-114.1952182043884],[408.13128374771213,-115.36143153415169],[408.16315807291437,-116.6190926084249],[408.98231804712117,-116.35299800218394],[409.5756082024827,-116.25421814452848],[410.59273523161966,-116.07264650927105],[411.94245505983156,-115.99464097219467],[412.89705545742163,-116.45106501550582],[413.6760924791374,-117.01268451547479],[414.0914770558144,-117.72848206131012],[414.3432129404786,-118.35201718339715],[414.31418999261075,-119.1952101951366],[414.4578790432828,-119.48299563609984],[415.62857310885727,-119.00070552696965],[417.0358296582809,-118.823818297333],[417.8957235944074,-118.85396142915364],[418.7497111060556,-119.09042207809797],[419.530479321153,-119.71283701623221],[419.9591024354539,-119.96324904713406],[420.31246955510795,-120.8447319830781],[420.57846232644414,-121.66501214123767],[420.51929624675563,-122.1786674010461],[421.42267368723157,-121.91287829951953],[422.2453978831063,-121.80269293252653],[423.3035643788774,-121.66226259880808],[424.2093858570685,-121.84953698873427],[425.26724684812524,-122.2153279667739],[426.05544901127297,-122.94171634270838],[426.37938584344,-123.74488823686164],[426.5694097757958,-124.66415192248628],[426.5080033282017,-125.16609616824277],[426.51645562530007,-125.45999170349398],[426.8472153960887,-125.78769642713861],[425.1739660753289,-127.48874667690863],[423.8766295658099,-128.62072580649357],[422.2729975334431,-129.92761144467147],[420.85046715961334,-131.0249848669607],[419.5494638835303,-132.45690198881414],[418.7265589734537,-133.2503950884165],[417.53569354084857,-134.28356315422369],[415.67023381694105,-135.9460188075389],[415.15946956781215,-136.39295317010672],[415.2032743919227,-136.772302946904],[414.6421971733868,-137.42386841638825],[415.091634668761,-137.7214909070593],[414.3702317939805,-138.53951470816355],[414.249956262637,-141.66154710084197],[406.4301693757038,-138.13313109705805],[404.77447218096563,-139.3327574944853],[399.3390444486894,-136.79858584137034],[399.09761728952014,-134.62148608307643]]]}},{type:"Feature",id:"23612",properties:{name:"羽毛球馆"},geometry:{type:"Polygon",coordinates:[[[436.00358112788143,-146.80834402526736],[432.3756979451075,-149.98492235893534],[417.6289224150899,-143.35816837368674],[416.4029801006663,-144.26370232900817],[414.318343383849,-143.18178241945296],[414.44395051457644,-138.4950255884831],[415.12097784888033,-137.75512516047277],[414.73399831416043,-137.54416276460927],[414.7981721898252,-137.2971486656065],[415.29579633776024,-136.65052310520844],[415.83196169263186,-136.01671387917446],[416.51307149081526,-135.33191592721718],[417.31948631346484,-134.53407606209177],[418.1067227364905,-133.85259744853096],[418.84887147963093,-132.82765951478152],[419.5124625473887,-132.14922362808412],[420.3967896185106,-131.2606551801223],[421.1318386656364,-130.5388834865823],[422.11583809249623,-129.68055789956597],[423.2907916809965,-128.88622178052572],[424.2343136201885,-128.26264718121413],[425.01011676651524,-127.80808222858866],[425.72229926024323,-127.40081784811265],[426.09498719908953,-127.19050087915957],[427.7459892359479,-127.95210463345703],[429.731691227782,-128.90392491864014],[431.09999627787573,-129.5106262144364],[433.0797972236717,-130.44529658457117],[434.96425939441394,-131.2969834947946],[436.681002772291,-132.16074910862736],[438.4009732847201,-132.89192559429063],[440.3390980928717,-133.78270693451674],[442.16823795700645,-134.64425965608518],[443.5035340308243,-135.27650141676529],[443.1635784567208,-135.4836834550106],[442.42013885975956,-135.99689005264008],[441.8980806930728,-136.35104501877285],[441.3012452086216,-136.77379964509896],[440.6766563670222,-137.2352798860504],[439.7313825547876,-137.9514271450853],[438.13127704000823,-137.19987360982154],[437.858814679966,-137.4337947629272],[437.800449646495,-139.37892706324908],[437.63605948982206,-142.80957943606543],[437.49303023541006,-144.64448014756184],[436.2808092002589,-144.9805668260905],[436.24286048178635,-146.73518729090273]]]}},{type:"Feature",id:"23609",properties:{name:"体育馆"},geometry:{type:"Polygon",coordinates:[[[435.85899229302856,-157.10287852086742],[436.3944624396141,-144.95833392067374],[437.5202177492964,-144.75397105147934],[437.92508110670514,-137.4811076658483],[438.1265257324923,-137.3541640776339],[440.2317808587419,-138.16311831625515],[440.60025200424866,-137.7908706204567],[441.27676949059486,-136.9103335876699],[441.83612808720966,-136.46641726701748],[442.3327444505691,-136.09176631194248],[443.16513046713663,-135.5203055882565],[444.3662451212763,-134.61616511614653],[444.92259964379537,-134.35781474391842],[445.0115202370274,-131.9482898271211],[445.2440355720327,-131.83834071521937],[446.93266853655626,-133.43968386959145],[447.7459143095999,-133.05559153878718],[448.3408068112322,-132.88281436294162],[448.93801674145254,-132.7155303511567],[449.78241905440274,-132.4834441695936],[450.33345207423815,-132.3448276077503],[452.26232513572734,-132.01746936201008],[452.9506014263909,-131.93970675827632],[454.55082878181315,-131.81430812245395],[455.87965950036323,-131.75371165640976],[455.93021377585904,-129.69909663634442],[456.1907957459868,-129.71737857298382],[456.34975418099225,-131.6969775713457],[456.96945175158595,-131.73482890495123],[457.4820326229967,-131.72281260856852],[458.0019091029255,-131.72281260856852],[458.4870241540329,-131.72281260856852],[458.80931838915467,-131.7289065874483],[459.23332199008723,-131.7776584184867],[459.49313148401893,-131.71671862968873],[459.97180923349276,-131.8638324296884],[460.4481695543785,-131.935243562477],[461.2091444381574,-132.1476745163855],[461.99689849673206,-132.21041674964093],[462.859067762191,-132.36817355500813],[463.47653373488504,-132.4806975875633],[463.8498972296333,-132.64317508079515],[464.46865066265406,-132.86633487075963],[465.0258634920577,-133.0101012739098],[465.3919313782879,-133.1371306928127],[467.0133589137568,-131.493129686282],[467.3381422388436,-131.6915702379735],[467.42629035587953,-133.969087555938],[467.8714941368587,-134.26897998137488],[468.64929183557337,-134.6625136879084],[469.1156099659107,-134.95734210272687],[469.98670562296826,-135.42846675161726],[470.45190795435576,-135.9068011783373],[471.0799311017289,-136.41165728778773],[471.7654608103621,-136.9640635986383],[472.10723861176155,-137.31459613025942],[472.47828467792175,-137.7103614346926],[474.8159693084882,-137.0705794830021],[474.9518392883012,-137.26438517751743],[475.3514669737145,-144.2740916723673],[476.7130850152517,-144.44626803339366],[477.38273604652204,-156.3639449550702],[477.3216245963472,-156.58349985611986],[476.62665351198467,-156.57165522111404],[476.1962126094185,-157.59364122846299],[475.5517958005519,-158.74428743779526],[474.436683496237,-160.2503585279902],[473.2431219426808,-161.55249590243298],[472.32344611596176,-162.37492555914056],[471.2097929333505,-163.4556197573878],[470.0164888718597,-164.5103930877238],[467.22304328563496,-165.23222917757045],[464.63335975378556,-165.77682489577225],[462.29267104912344,-166.49205202260842],[460.35976394527717,-166.74525255352967],[458.34780677737047,-166.81177133707678],[456.95872291552996,-166.81331628946884],[455.6593321231175,-166.72010416181445],[452.45664581437336,-166.37111658258536],[451.53774246385035,-166.242456380602],[450.2031610891743,-166.40768045586415],[448.303212969692,-165.6440448207434],[446.92520126666136,-165.15326494419844],[445.1105688514962,-164.67621797780512],[443.47497925243346,-163.78993028889232],[442.1067522478858,-163.09178346905728],[441.1782358602567,-162.4260806494555],[440.5289267021485,-161.705617850624],[439.56135735127555,-160.6237220227385],[439.0835379086862,-159.43290705121257],[438.89359459515106,-158.8288306659164],[438.4736250365756,-158.17102426965184],[437.9312609162734,-157.23186487665515],[437.48820290250546,-156.8110370111952]]]}},{type:"Feature",id:"23615",properties:{name:"第三食堂"},geometry:{type:"Polygon",coordinates:[[[446.9096822775997,-193.81404721145947],[446.87164227312735,-188.92506504374242],[442.90066977086263,-187.75502632211038],[442.6713076200028,-187.99751732407134],[442.3299574913747,-187.91930527947773],[442.4271334320032,-187.7108146354965],[420.56535210065573,-181.40470203568097],[420.5801641377954,-180.00821868565598],[424.00017374342514,-174.97594127985278],[424.0143125061494,-172.71014844709225],[426.64423458526034,-168.8840421565497],[430.0448314452449,-169.90438953314893],[430.1691627872961,-170.2734561252126],[444.11750106436773,-174.26552455916107],[444.1727095664338,-174.91254127239884],[451.5486552123834,-177.04390364687652],[451.6626630133979,-178.89327625368745],[455.2475126384078,-180.0030569151376],[455.4064054004516,-183.64872566234226],[448.28697730678465,-194.13115946113163]]]}},{type:"Feature",id:"24111",properties:{name:"2号宿舍"},geometry:{type:"Polygon",coordinates:[[[438.11690153813265,-207.76810582565912],[438.046921293989,-201.56654353221649],[437.8922146641221,-201.3407485666421],[437.8969879816276,-199.50813559576662],[435.9583391718792,-198.90047522974936],[435.51084065573514,-199.5641368386441],[410.47427891232246,-192.020164234582],[410.3713968725156,-182.08944763993924],[411.11773915963124,-181.09361427534677],[413.320880901874,-181.64672244130077],[413.24859923679014,-181.15472978698014],[414.7320781272607,-179.0876275936452],[416.8092383824823,-179.62974008177395],[416.91979182542303,-180.39824420016527],[446.8312745469897,-188.85340902090917],[446.9260589945996,-202.19593954044652],[446.09626888894974,-203.26882788762836],[444.93405131416426,-202.9450094375653],[442.43683911845545,-208.73308310209086]]]}},{type:"Feature",id:"24104",properties:{name:"1号宿舍"},geometry:{type:"Polygon",coordinates:[[[434.5470421042953,-221.78768945561063],[403.60621984392543,-212.74271453460048],[403.58253743400775,-195.88343017875857],[404.23538013080486,-194.69206370642965],[404.40910406294194,-191.64628101843311],[404.8959801829735,-190.7137652463977],[408.499475894,-191.54563953953348],[410.676843062242,-192.1198879779607],[410.7911619835073,-192.4922410357962],[435.5663177719339,-199.37791463272137],[436.1115781981831,-198.87246168798413],[437.97211864177564,-199.45160950875132],[438.32609901583635,-215.52076702003384],[438.0072308818785,-215.7381771113687],[438.06969800671277,-219.13569462318685],[437.29579973793295,-220.32685695458494],[435.4728212256133,-219.8522292904032]]]}},{type:"Feature",id:"23604",properties:{name:"工程实验中心2"},geometry:{type:"Polygon",coordinates:[[[394.6159937604057,-269.41140559814363],[394.61651243399285,-268.6098474365589],[391.0755278545059,-267.51368267747176],[391.04067298944926,-264.51232609805777],[385.9486469149428,-262.8815126053343],[384.47903717310624,-264.81896592278207],[372.13605808493173,-261.13565731098055],[372.07941892921474,-252.3871899164871],[372.42132855786537,-251.8237029314051],[372.4388597251111,-249.73697535557503],[373.04591529151384,-249.00803149619156],[374.84208192382135,-249.54081300491413],[376.03171166331316,-247.86477117539107],[377.0469633428046,-248.04890029883003],[377.00764788489846,-248.59049925853418],[377.4433336981062,-248.81373637044445],[377.6797451191301,-248.73365316858815],[377.7709279357514,-248.49454464491106],[378.52445692316587,-248.72545812591116],[378.5706188724224,-247.62203193660392],[381.3249830896347,-243.24162602367002],[381.4279916640431,-237.0793688694341],[381.87996382788737,-236.26391025571365],[383.4008185201346,-236.61588215195502],[383.4988478281063,-235.8667100226726],[385.15642487792684,-233.47801068440262],[386.04522393687057,-233.8023891458075],[386.1434607142771,-236.86360065717884],[387.6961619647755,-237.3069628394764],[389.3598593629244,-234.80322169957608],[391.1698227126501,-235.30363797646035],[391.29295582224,-238.36132250743907],[392.88237916270873,-238.82999596078966],[392.85447452371994,-238.76080490426355],[394.5109104916487,-236.34243743680847],[396.37979516087495,-236.95395359606073],[396.4274093961755,-239.8262641869913],[398.41143960174946,-240.40821595177587],[398.4187010319696,-240.3110165215436],[400.02627794798866,-237.8838316031069],[401.75418713622696,-238.4466961798843],[401.84090935999876,-239.60427189169022],[401.89651116854145,-239.72947969562873],[401.86570195746464,-239.92906529196483],[402.68375393912083,-240.1094599655763],[402.7867625135292,-239.98487456994238],[402.9142524812512,-240.0364307245053],[402.9459953047849,-240.2367424638634],[404.2232808805055,-240.5847724408424],[404.2840694249197,-240.39078851924756],[404.490916451476,-240.38010384335223],[404.5546095679782,-240.63487630936132],[405.24683133739137,-240.84182707063496],[405.34880256462543,-239.84732233462967],[405.6365626707774,-239.50302680747814],[406.5662332083887,-239.8864303231009],[406.6074158912086,-243.55106668576494],[409.66395934029555,-244.5270029073502],[409.72059849601254,-255.79539405766315],[407.81281330774993,-258.3874134420967],[405.3350058472072,-257.66873931973885],[405.3436158287539,-256.41054093202547],[403.9291929565903,-256.03834076588515],[403.2509753740303,-257.15722342808954],[402.182715253932,-256.9701897325625],[402.1176735861031,-256.6301473288256],[401.99713384444897,-256.5765164799141],[402.21290205670414,-267.99470056219656],[400.27804210719216,-269.53692460623444],[395.41495855405464,-268.48080144807545],[394.63414733595596,-269.49781661776314]]]}},{type:"Feature",id:"23607",properties:{name:"国际交流学院"},geometry:{type:"Polygon",coordinates:[[[377.02477252871347,-291.8059218317809],[377.02497062916143,-289.3690882216108],[376.35994742541044,-289.16653051358713],[376.3646027859371,-288.3189577470549],[380.13217615517704,-283.18409508609943],[361.28371093501255,-277.49247111619485],[361.055400168756,-277.6005349105488],[360.64642179397384,-277.5311997537681],[360.62116398686084,-276.3392293584837],[359.5044717617955,-275.93886835318705],[359.94970251855165,-275.2846416238491],[358.6972124364201,-274.7698776098643],[358.7504024066933,-273.91230077071083],[359.42434013060176,-272.7575732596401],[358.70771176016115,-272.49192055894594],[358.70058014403514,-271.49389050219963],[359.4609887134716,-270.42543573620884],[358.7540672649803,-269.9704980575034],[358.87045127814787,-268.91125496234207],[359.28250020987326,-268.08923715359475],[358.73396006951384,-267.9700797341559],[358.78615953754735,-266.90420027398847],[360.04132397572613,-264.86277515791636],[360.08847188233705,-263.0670936475199],[360.5965004810917,-262.4896308417606],[360.5547012865753,-260.81082859565157],[360.76340010848526,-260.62728853063066],[361.15167698645723,-260.7418896397668],[362.8981305355394,-258.40460150468897],[372.0474987740981,-261.2185193175222],[372.112475721024,-261.15601862619553],[384.4835515445104,-264.83177243781296],[385.9210674450225,-262.89979781923046],[391.027205541026,-264.48004509248693],[391.0646465256876,-267.5196983657533],[394.58508958611617,-268.5858749765927],[394.66294306215855,-280.7479548274972],[391.9655891114971,-284.003947821562],[390.6904278229607,-283.5519733766234],[386.1249914675727,-292.6577567442242],[384.9443272672002,-294.2003850817204]]]}},{type:"Feature",id:"23613",properties:{name:"1,2号食堂"},geometry:{type:"Polygon",coordinates:[[[532.5966942433814,-202.90999529907845],[517.6341137822246,-195.44421924440388],[513.9832292560934,-193.6048585492417],[513.7268464177279,-193.3667381122258],[513.7268464177279,-192.64634843568408],[510.656280722835,-191.72170355181373],[507.2892612895277,-190.13163350031823],[503.8839440048463,-188.43979045489337],[503.9077028570876,-183.14901320950685],[503.55947609737115,-182.8866020056472],[503.55947609737115,-182.62596385046228],[506.18571579437736,-180.17419214304925],[506.22011293866706,-179.34493727787927],[515.429327755201,-171.5493741697054],[515.6365971452767,-170.41887833469923],[529.8381851152405,-158.40470051474648],[548.4486359197816,-167.73820604337888],[548.6688485651828,-172.78164299864093],[558.0860419912623,-177.4644418534634],[558.1218575744917,-181.36071631617682],[548.6686712603151,-189.4183360184754],[548.6995223072554,-192.18340542671274],[546.2126442360828,-194.33393616428958],[544.8601627070008,-193.76957477112387],[543.782681027369,-194.69120547224713],[543.7426101273201,-195.6539709026241],[539.3186763790078,-199.50520992899945],[537.5440319604731,-198.89208969727872]]]}},{type:"Feature",id:"23611",properties:{name:"商业街"},geometry:{type:"Polygon",coordinates:[[[633.8663460776861,-208.84789493443418],[633.7534334543956,-203.06832877295918],[633.7764390708505,-203.02006986487834],[630.8331745426646,-201.59953915687643],[630.6923643040177,-201.7027999985508],[630.4414179819972,-201.50143474647643],[626.9535549815234,-199.9403582322007],[623.4529992271436,-198.24032250588942],[607.9770945946395,-190.9121081516719],[607.9095321233264,-190.23582235760733],[606.1577998680846,-189.30303716168834],[604.0206574291286,-191.29553509258827],[603.9779516008817,-191.69006819317255],[601.5376374462288,-190.59373157452478],[600.4550513109793,-191.46979602642543],[600.4272859118096,-192.91108467571144],[599.3428487499489,-192.41143970684143],[599.3144222698464,-186.47123087874115],[599.3265861590065,-186.47361077009856],[596.3288485619731,-184.9429439787231],[596.2631371172712,-185.12474123519206],[577.0116670624196,-175.9752489116217],[577.1557827057296,-175.07446003284127],[577.6919193420799,-175.30319403552585],[579.6061452905583,-173.66953083484907],[579.4243480340892,-173.59191993336012],[579.4509234875803,-172.56195584034683],[581.4237212066884,-170.86496108632556],[582.3812308294871,-171.31555384999558],[585.2525697522046,-168.7463289134828],[592.1217295068147,-172.08769637928924],[592.2281635369657,-172.63612912098617],[594.4754420592952,-173.7193763371682],[594.8785692120035,-173.34018031422056],[602.9042239501293,-177.2045950139115],[602.9079260033519,-179.81718685960377],[604.3445870861096,-180.41546510361982],[604.8856157213613,-180.10171609300102],[604.9240906316395,-179.41286976121677],[606.1494702483336,-178.31031898180242],[607.792388582067,-179.11168128831764],[607.8118243614858,-180.1142766307207],[609.5241561931438,-180.95146952378363],[609.970253606472,-180.55720085557238],[613.5162917290158,-182.22127377914944],[613.5157628642698,-182.86860422836548],[616.6334205424795,-184.30209212264663],[617.1166707042207,-184.0020935954262],[627.8643922904797,-189.10854715131316],[627.8916288249035,-192.13590117412772],[629.0397941886682,-192.71593358440361],[631.4465254319443,-190.77182677777108],[636.9598081937622,-193.4678470371593],[637.0903055698603,-194.05356474345567],[639.5471467478286,-195.23068545206894],[640.0420319339838,-194.87370174845714],[649.0281050510117,-199.28535924416633],[649.0489952084824,-205.25637444372646],[648.3727094144178,-205.85425603918296],[641.3784731473571,-211.84113718112584]]]}},{type:"Feature",id:"24112",properties:{name:"3号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[573.7451716910134,-224.32445216274576],[571.4619058810313,-226.2045082602363],[560.0052785631207,-221.11443970502094],[560.0052785631207,-220.8990993827809],[558.3325031342702,-219.94737916050335],[558.0282795899353,-220.1265077996677],[556.9948276691797,-219.65416669221338],[557.0405747170778,-219.2973851251072],[555.3389661612642,-218.53012880564464],[555.0997874269682,-218.737182441789],[543.6679066510966,-212.82775360933132],[543.7264810350058,-194.65743484268967],[544.8242966683129,-193.73965597853007],[547.2098406176406,-194.85200169156653],[547.2493442719049,-194.47036006617327],[549.4081962742039,-192.51220479013702],[551.128194462175,-193.36641455548036],[551.1444272856227,-194.06783145116896],[573.8569851951811,-204.90170863317607],[574.0458762316637,-204.74948334476073],[576.9865146331547,-206.13301937399723],[577.0296508073516,-223.0715733348262],[575.9481815137401,-223.93826988743703],[574.4209339146797,-223.1768028966167],[573.6491369453017,-224.25815867398023]]]}},{type:"Feature",id:"24113",properties:{name:"4号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[554.8783401896794,-195.75498072465206],[554.9841655696488,-187.5452629846876],[556.2848312354929,-186.41777427538662],[556.2552360021116,-183.4728691888994],[557.3971635980017,-182.5388256868814],[560.9156781169331,-184.32153492673868],[560.9590844592257,-184.55058409660464],[563.1211507815156,-185.62166249743044],[563.4080451802631,-185.23566890811836],[585.072832205658,-195.62341645989352],[585.6311059262592,-195.14002764799943],[587.3286167669886,-196.01174179486594],[587.4233215138087,-211.417585372749],[585.5948741859985,-210.57564582431453],[585.5406162581328,-209.92822767346792],[583.8677681118878,-209.0881714580668],[581.6402335460575,-210.94424100369946],[581.6779002067246,-211.31471951611772],[579.2745878911147,-210.304983962664],[579.2745878911147,-210.304983962664],[577.0700120517863,-209.59129042554838],[577.0001493645013,-206.10084653706642],[574.0264561873614,-204.69821183984502],[573.8388403442293,-204.85399038646096]]]}},{type:"Feature",id:"24114",properties:{name:"5号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[565.890851570132,-186.3081270684017],[566.0206594197145,-174.93140245340652],[567.1107848722298,-173.86385227907954],[569.4068643199648,-174.9997360839226],[569.4695541309338,-174.660412287154],[571.7176176985223,-172.71754911507264],[573.4667676181496,-173.63297664560778],[573.5210351137945,-174.38429926931263],[596.2345434669902,-185.14202712198355],[596.3251918917156,-184.97991925899302],[599.3031315687299,-186.41518598381],[599.3814504184447,-202.4958171213073],[597.9086740006379,-201.77036923952596],[597.617366084016,-201.97267846329024],[596.2842959069975,-201.36158304833185],[596.4423228543155,-201.1708219476408],[594.6578339415244,-200.24593016586522],[594.3825892036133,-200.4182837320335],[591.8678768694239,-199.15007406580986],[590.789646851954,-200.07800482734157],[590.6740787932285,-202.98066463439733],[589.3992701995345,-204.1105573077212],[589.3163494661891,-204.8531971321229],[587.5032879059179,-204.2305373270915],[587.4269433711648,-196.11808223695985],[585.6705949355379,-195.20944089462918],[585.0982936824254,-195.55454646746708]]]}},{type:"Feature",id:"24115",properties:{name:"6号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[611.5160475248439,-222.78395581732616],[611.507140662456,-239.65327042241336],[610.4521722951818,-240.55116697837136],[608.4776764204362,-240.02820691531218],[606.1477543227842,-241.50519090524972],[577.9346315047537,-228.43599620688514],[578.1741271378497,-211.2440552530818],[579.2535540319985,-210.19106618856043],[581.7220273223508,-211.44142001329553],[581.701951537286,-210.95083568812242],[583.8639156584811,-209.07078083044183],[585.5376988935601,-209.88653632215616],[585.6492467415605,-210.58395778500307],[608.2977012486939,-221.36210954693257],[608.5182521268697,-221.3062649335483],[611.5140682220909,-222.76147659320438]]]}},{type:"Feature",id:"24116",properties:{name:"7号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[589.364115251142,-212.30637531629523],[589.421656409743,-204.06611381983606],[590.805471791528,-202.9065251641964],[590.7466582240145,-200.04812923153085],[591.8412126463459,-199.14811199405193],[594.3987545605768,-200.38107623031547],[594.5688332185547,-200.1656149877899],[596.4945534183191,-201.14946983472922],[596.4515742728285,-201.47577203141495],[597.6409938485291,-202.05754566198766],[597.958530561595,-201.7767674286177],[619.5597925336974,-212.15142418649992],[620.1151283346427,-211.73011545767693],[621.8396665474557,-212.63479819450188],[621.9636557270459,-228.97832516116867],[620.0503768588709,-230.19432394526484],[620.1622074644074,-232.11693381213192],[620.1209248641333,-232.09063736127254],[618.9033709135884,-232.99560285563362],[617.7508511963518,-232.55294593283335],[617.5756829027238,-229.10047641677377],[611.5355577948362,-225.90178178938442],[611.585747257498,-222.76388003226145],[608.5174038542614,-221.30372011572322],[608.2865323260171,-221.42417482611154]]]}},{type:"Feature",id:"24117",properties:{name:"8号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[626.5178275228467,-222.57160928045414],[621.8906555180096,-220.16499960266702],[621.8669942911141,-212.6263574454331],[620.129120992731,-211.75378397803354],[619.5673859393986,-212.19379516411496],[600.3180098756628,-202.966544339848],[600.4521535628216,-195.1496701340186],[600.4623848609947,-191.5422443194197],[601.4840530642829,-190.58407512542817],[603.899451440933,-191.69717540604137],[604.0121581223958,-191.22280045423642],[606.133447276958,-189.3600545804936],[607.8995642235102,-190.22679169716017],[607.9487718956761,-190.91894713865028],[630.5890107372293,-201.68519604483225],[630.920472317727,-201.54877873585718],[633.7561659272669,-203.0021102811165],[634.1227062443583,-217.92827510324636],[633.3660773842215,-218.34158706912913],[632.2178983670148,-217.703998551229],[632.0868403094637,-217.84236467890372],[629.5109891932095,-216.63117385707514],[628.3313042736919,-217.52714325423636],[628.3749902928756,-219.93182312803845],[626.5224757173058,-221.6398003167179]]]}},{type:"Feature",id:"24118",properties:{name:"9号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[626.4783194362126,-233.9955538965471],[626.532669624856,-221.63538392681335],[628.4201204863318,-219.90217515241878],[628.3226649756608,-217.6222784460487],[629.4846345259687,-216.7086330335083],[631.9586925959062,-217.86404307829017],[632.1161207285286,-217.74597197882343],[633.848017601818,-218.52411674864246],[634.0903444773902,-218.81161050512182],[635.0866396595574,-219.2317936876686],[635.2738666887118,-219.5946280504744],[656.6070653890321,-229.6838972071308],[657.1966712285914,-229.40839797504168],[658.922008596355,-230.19853726925098],[658.9087021708594,-231.99209349448415],[659.1127964999378,-232.23798124448476],[659.712710133895,-247.37938155721326],[657.8170130369009,-248.86332912162248],[656.7408793017611,-249.5831879994825],[655.5131272817504,-249.2407818110289],[654.2958704705811,-250.908957773495],[633.3686114550942,-241.40273495087206],[633.294582749873,-240.11763411112037],[632.986848233485,-239.95758217628764],[632.9336225315031,-238.9369231164528],[631.2427694213618,-237.90183314446085],[631.345659950897,-236.42781854556233],[626.5203002715785,-233.9571339356095],[626.5159897393759,-221.58028408039553],[628.3685815143424,-219.81915055390485],[628.4607894205927,-217.68356296910528]]]}},{type:"Feature",id:"23605",properties:{name:"校医院"},geometry:{type:"Polygon",
coordinates:[[[633.4194791380071,-252.07622743572415],[630.2860477338122,-254.76333710218472],[626.5929836449801,-252.85315229476743],[626.4802746154578,-252.47063379937947],[621.8802715133671,-250.7845127369003],[620.2078440712972,-252.17945626650155],[613.9876298599061,-249.294315781815],[614.1531571395782,-239.70817957796197],[614.3313246842436,-239.4511608564346],[614.3629253467265,-239.48321295695294],[618.4499443611784,-235.90677036061714],[619.301206016729,-236.29410419505012],[620.9972587159886,-234.76177302332093],[620.95061011899,-233.75280901404625],[622.8940508616869,-232.29872710179848],[631.2342180876436,-236.44985031728714],[631.2054765327186,-238.03996555755643],[633.0070152529329,-239.0590116829566],[632.9457701594542,-239.87506117174058],[633.2959355956335,-240.1946793008531]]]}},{type:"Feature",id:"1",properties:{name:"调控室"},geometry:{type:"Polygon",coordinates:[[[633.6936525048823,-255.62633614665748],[633.6292473451552,-251.55948136445647],[638.3845451314475,-247.6139129344517],[640.876633566585,-248.80059305035627],[642.9714565305095,-247.07579879617185],[647.2557539664616,-249.11945878274298],[647.2662875206227,-252.4235337643454],[647.5472324580298,-252.59688596996577],[647.5353445897625,-252.94283798448066],[647.2894613397767,-253.21234649165606],[647.3379156889171,-255.87989384324626],[643.2645902948744,-259.60245188372903]]]}},{type:"Feature",id:"2",properties:{name:"湖心广场A"},geometry:{type:"Polygon",coordinates:[[[479.58366386264424,-215.5118648921513],[479.5757662838142,-213.76452557599902],[479.70531695193046,-213.40040162897813],[479.7537655605226,-213.07181678669258],[479.87693741496844,-212.71695730714544],[479.94140899599466,-212.48101713959718],[480.1912458647535,-212.0805187670032],[480.36780231456027,-211.87525765567946],[480.63556061220277,-211.38006427538267],[480.92974542362276,-211.00561272527634],[481.29789409831665,-210.59531831740276],[481.6854070287958,-210.30120944424075],[482.0714011941153,-209.91308900769775],[482.3343753815049,-209.7479232965882],[482.64389972103714,-209.5264873363144],[483.00210048393546,-209.31439178177231],[483.326812475064,-209.0565813959254],[483.9291547373725,-208.71645393842667],[484.4727967262615,-208.51225596271465],[485.08197343178836,-208.2204252372921],[485.57473678782975,-207.996103623215],[486.03750453196847,-207.78757716679803],[486.7065205847847,-207.71277798268636],[487.4010518922827,-207.40834150643886],[488.0068113762004,-207.37242271041367],[488.6030026396125,-207.19146184164396],[489.20952150611004,-207.19913160570007],[489.70008265266995,-207.09456462445968],[490.11022518402757,-207.08924894640097],[492.85569696308755,-207.02280297066724],[493.6221418008939,-207.1304074822269],[494.2207630885614,-207.2983829088818],[494.8469499638761,-207.3313401128457],[495.35300251506425,-207.47941971590947],[495.69001650398576,-207.52969084269316],[496.0983365171518,-207.70055192315135],[496.46253640243066,-207.75408839502825],[496.8953844729247,-207.9098377621481],[497.1577511542505,-208.0104559539735],[497.4838300340227,-208.0104559539735],[497.801251952385,-208.1836711204291],[499.83578976022295,-209.26480409931045],[500.39097436432496,-209.65353204191734],[500.8062806972253,-209.8440611311927],[501.4114326750792,-210.62911084220454],[502.01635683815914,-211.1313664804936],[502.5047917134956,-212.24682355198254],[502.62621698800785,-212.80671632807952],[502.87552228896084,-213.53967239411608],[503.0393970496847,-214.35152831019536],[503.0393970496847,-215.09481197931743],[503.0582297376641,-215.91843832538382],[503.22324357225773,-216.8540736019728],[503.24017780378756,-217.2953508191028],[503.33548031755424,-218.2508819192829],[503.00735110481656,-218.91443041752447],[502.1729415261168,-219.71717374264597],[501.4809161811322,-220.28906476350397],[500.45772409309063,-220.80795088029097],[498.70985320913246,-220.45248389467997],[487.30506593419415,-221.9411775041476],[484.8125444924703,-222.1179617687283],[482.8891802943171,-222.2920122560217],[481.55866607622477,-222.51716919093658],[481.0831407047452,-221.3834869375321],[480.6535579793443,-220.24342587045714],[480.3749405108105,-219.4772088474247],[480.0159803653324,-218.23417550252697],[479.7484498824639,-217.31593008701574],[479.7547527578763,-216.7792744178611],[479.6281636818213,-216.1734389956854],[479.6597539971416,-215.7743075117351]]]}},{type:"Feature",id:"3",properties:{name:"阶一教室"},geometry:{type:"Polygon",coordinates:[[[692.5458896924077,-356.9278066896222],[692.5417685634759,-364.09223083271],[685.2957672015316,-361.8281459995271],[684.7884456630218,-361.02220111841604],[684.4112038607973,-361.0337191454307],[682.8816310072398,-358.60267575552103],[682.9188268375992,-353.41037031128934],[683.2781047444797,-353.28367201412766],[683.3709886504056,-351.75082339141926],[686.2178433825432,-347.62589034054054],[692.9875901779255,-349.59695233967057],[692.6071782765226,-350.15605216476024]]]}},{type:"Feature",id:"4",properties:{name:"阶二教室"},geometry:{type:"Polygon",coordinates:[[[717.2839699706653,-307.2800380975852],[718.2437703318993,-305.9365500657973],[718.0104510323722,-305.85983366568104],[717.9449356493528,-305.9758592956089],[716.4500225468121,-302.60614953898755],[716.2419583707392,-302.50121925618396],[715.7859924389188,-301.12592456263985],[715.3628898685807,-301.0036644043279],[715.281418319697,-300.84378573576606],[708.7654907985284,-298.8999865895699],[708.6638362848757,-297.6595267810786],[706.8768513780357,-297.0904939785635],[706.0049684340147,-298.1916807631522],[700.3369367730842,-296.57514152213514],[692.5322582659408,-298.80150217509555],[692.4633614437978,-298.2302503031556],[692.3418409752941,-298.2302503031556],[691.168587269384,-299.6704263598834],[692.1673798505118,-300.0839129627138],[692.1778411778004,-300.4581960057052],[692.9238711844405,-300.6720720302717],[693.2157316487946,-300.3068766049249],[697.9159320305727,-301.689251186634],[697.9435118934243,-302.1483872176328],[698.71363465382,-302.3111189754551],[699.1139125100739,-301.998018846606],[703.7357057721739,-303.38388053741124],[703.7913938477403,-303.79345735125503],[704.4954728752535,-304.00268389702666],[704.6771195581734,-303.7796145848429],[709.481721872892,-305.16896338474436],[709.4490698513549,-305.5699809308066],[710.2902028333457,-305.7198209519703],[710.5111587460772,-305.3052776494137],[715.3566553401965,-306.79881704231053],[715.3120626117544,-307.20099695807147],[716.4293112321801,-307.4935971122339],[716.6821794766405,-307.1197367491329]]]}},{type:"Feature",id:"5",properties:{name:"阶四教室"},geometry:{type:"Polygon",coordinates:[[[585.4092499768691,-271.0421602855762],[586.9326253657867,-269.3019192377324],[587.0629970352784,-269.9019712894352],[592.1298329559406,-268.4775234009335],[594.728076359395,-267.4400460172461],[600.639309851913,-269.1535279871086],[601.3975738259567,-268.08469653225114],[603.2335889475182,-268.6988038572371],[603.2887288657828,-269.85466988896314],[609.6916266294934,-271.81601119729925],[609.8547038387399,-271.992603092395],[610.315644724102,-272.1368498393584],[612.446910682515,-276.9629441560943],[612.6006177095727,-276.82320230441394],[612.7393684842908,-276.9344732179054],[612.7163935183472,-279.8754490544945],[611.833073651246,-279.6112819950962],[611.8480299035857,-279.22566295886674],[606.6410917396204,-277.59263841875963],[606.3135858525424,-278.000331441876],[605.4636923084413,-277.6892233736283],[605.4090028797051,-277.3704569833994],[600.2160298911173,-275.69733887527303],[599.9232116977187,-276.032322888521],[598.9746609469188,-275.74292841553756],[598.9223140637297,-275.38361796776115],[593.747901243708,-273.7752802538052],[593.4901311356117,-274.05512434878847],[592.6132082198123,-273.7878939605977],[592.5676186795479,-273.4543515138404],[587.4799701426779,-271.8831341370168],[587.1248942964675,-272.16144656760383],[586.2319339534605,-271.8409683171674],[586.2040036027056,-271.4023717124092]]]}},{type:"Feature",id:"23598",properties:{name:"行政楼"},geometry:{type:"Polygon",coordinates:[[[516.6174530159994,-247.80032432909906],[516.9575071288633,-249.45384096295453],[516.9339195603409,-250.40029214991384],[516.9201601453696,-251.3126256038319],[516.6806340031128,-251.90329763224574],[516.2490376600313,-252.55855466970888],[515.7708277886793,-253.42806545458336],[514.9518617934956,-253.94839598401094],[513.8188160912613,-254.72538172331264],[511.94711444857404,-255.62774662148612],[502.5188263449261,-260.1190723920901],[500.65498722507965,-261.10048372525216],[499.1939619986298,-261.90484789230305],[497.7278822932109,-262.3277392993823],[496.20002562261436,-262.62609396075135],[494.73661355887356,-263.2739096819544],[492.8588746218621,-263.2542533748525],[491.6501521372853,-263.1153956053965],[489.67413166476416,-262.58692174874096],[481.22121759995406,-260.41223217229646],[473.6887803162899,-258.29075502722077],[467.79146697912165,-256.77946581546735],[467.72646076349156,-247.64447789421928],[467.17524175147526,-247.34780805917327],[467.1242757552037,-247.22228849810793],[468.80783845848646,-244.6342548637479],[468.8154201769401,-240.40562159734228],[469.86127611695787,-238.63444792526224],[474.37029256395357,-239.93709947734774],[474.4393704431976,-242.26019417241207],[486.2052146678492,-245.3903206762054],[486.2251517793383,-242.2541568780879],[499.911838414432,-233.11004281425681],[534.3614822413246,-230.83215762552695],[534.8641220943603,-231.11633166534384],[535.1738493334097,-232.9008435458145],[536.4067209952833,-233.07030899347208],[536.7300672471105,-245.9348003829296],[531.5329396493527,-246.11816564775216],[531.3349725563972,-246.7494139101122]]]}},{type:"Feature",id:"24246",properties:{name:"西一教学楼"},geometry:{type:"Polygon",coordinates:[[[508.45857895400337,-310.151893296188],[508.56580377427315,-295.81839522568083],[511.0587049072869,-291.9048411623508],[513.6570083423788,-292.54211502333084],[513.8055435749905,-293.00533839701745],[514.861389113964,-293.2465183043664],[516.9208346704198,-290.21870808213157],[522.3665190267827,-291.85563317117885],[521.9436948063423,-293.92236880040093],[524.726680084845,-295.0687327428883],[541.0263715310069,-299.56579638054745],[542.1141111383326,-298.39300592428253],[547.3836187361787,-299.53390231219527],[544.0180351424426,-304.46047273699725],[543.2592600686924,-305.7839246970973],[543.0812607919839,-318.18980602700435],[539.3393271916918,-317.3119597647393],[538.3029218467616,-318.9425060401161]]]}},{type:"Feature",id:"24247",properties:{name:"西二教学楼"},geometry:{type:"Polygon",coordinates:[[[557.4203120452659,-288.49336509214686],[552.6940044266927,-294.8866565305846],[550.1568081200505,-298.33969444316114],[548.5969440894448,-297.9405482912984],[547.2865192435632,-299.72703694705],[542.083061407521,-298.2356165951795],[541.0729196219957,-299.6255664773059],[522.4412465811243,-293.2579142582039],[522.4592809472673,-291.8662261239192],[520.104383835733,-291.17614001705135],[520.1556622744044,-290.3426481071191],[519.7489112693489,-290.1905510432629],[519.8484262054149,-288.84688212485275],[519.7513013660666,-279.75060858016957],[520.4744142639432,-278.42301849422427],[520.5845759944791,-278.0868839831019],[522.4751424982123,-275.1946496731154],[524.7846277721096,-275.98425071604913],[524.7722427254814,-276.616105375612],[527.0343606280635,-277.15235616646515],[527.2418644794674,-276.6176263462505],[557.3857642836185,-285.4392560499133]]]}},{type:"Feature",id:"24248",properties:{name:"西三教学楼"},geometry:{type:"Polygon",coordinates:[[[565.5733665125204,-277.2286219799131],[562.2459173183852,-281.8269507833272],[558.1653703766416,-287.50755883683854],[557.4735460176155,-287.10145967634236],[557.3636015685994,-285.42947838152253],[527.1647295399401,-276.5383185915255],[526.9811266557136,-277.2683844980355],[526.5898026385635,-277.0250291958655],[526.6843200996741,-268.8689327873338],[529.1469888450267,-264.9902403774795],[531.5407793486044,-265.60970999041405],[531.7078688373265,-266.29153939952965],[532.743215279148,-266.5692251818272],[534.9444943561875,-263.5014274038466],[540.307436827759,-265.1460312271723],[540.5064666998909,-267.2916862351444],[559.0536172295622,-272.8356242127049],[560.101348718012,-271.50542674852204],[565.3237100462763,-273.06898456496435]]]}},{type:"Feature",id:"24249",properties:{name:"西四教学楼"},geometry:{type:"Polygon",coordinates:[[[541.9085843471258,-249.40246414741142],[544.0303383879206,-249.94870988817516],[544.0616269267709,-250.67225734909135],[546.3593789985994,-251.15483960455526],[546.4727999519322,-250.56100921095648],[575.9146631656268,-259.03716129814575],[576.654072177488,-258.03375523973403],[577.2555074242797,-258.3114410220316],[577.2387767472554,-258.9578535434207],[578.2211064982471,-259.3565651322439],[578.8790349401853,-258.56196661435484],[579.3305459383186,-259.0551956642887],[579.3794342802723,-269.2861133053395],[574.2939603094786,-267.6945261728437],[573.9586949244355,-268.3048699619469],[573.8444048450235,-268.836992403924],[573.092610786534,-269.4849258959516],[571.6672440166811,-268.85763414830444],[565.7393695936435,-277.0469746293648],[565.5485964192637,-273.0885399017459],[560.0694083346021,-271.43741763282634],[559.0892513988084,-272.95121798123563],[540.5366688311424,-267.1080833509179],[540.5008173803762,-264.986546591643],[539.2755668902543,-264.65193305115923],[539.0937022581861,-253.83848365553897],[539.5493416051955,-253.2124955970106],[539.5493416051955,-252.62453180444626],[539.790089529128,-252.41463785632462],[539.790089529128,-252.1443396457001]]]}},{type:"Feature",id:"24335-a",properties:{name:"教四教学楼"},geometry:{type:"Polygon",coordinates:[[[569.468179376154,-277.85552291946743],[569.4952759300604,-274.2807567656309],[569.6756659097178,-273.97310431931214],[569.9248628689578,-274.0163370232975],[573.8281366819512,-268.57586657352687],[573.8514275400842,-268.1580011776115],[574.1257420914283,-267.6644785497216],[618.4030334527197,-281.2424399299307],[618.3524938128494,-281.6575652248893],[618.6108244419454,-281.8734242891545],[618.3786769997702,-282.32401866872084],[618.3913119097376,-294.32977101103774],[613.8820191017937,-300.0392280380698],[582.8363708053357,-291.21595072927136],[582.794051468336,-282.98453522714624],[580.534686001605,-282.3238664408902],[580.5489954177128,-281.18170102538807]]]}},{type:"Feature",id:"24254",properties:{name:"教一教学楼"},geometry:{type:"Polygon",coordinates:[[[667.0048130352009,-316.939866284088],[667.7974633508773,-316.655961379395],[707.3074357307906,-328.1780859028328],[707.3257030705029,-328.8886854176354],[707.2284294865357,-329.1088068611668],[707.250806977683,-331.8429709325826],[702.4244235979024,-338.70601046243684],[699.3944808509806,-342.9999008896084],[699.0544038766727,-342.9466211487813],[698.9659595068997,-342.31228777727694],[698.3174689471184,-342.01940143055884],[694.7070814808432,-347.41100674659947],[662.376478063466,-338.6002121199374],[662.4943024046096,-324.7733582361502],[662.3213715886678,-324.68963292913617],[662.290926022481,-323.2023670209054],[662.5430153105086,-322.889234372673],[662.8626937554712,-322.9865079566402]]]}},{type:"Feature",id:"24255",properties:{name:"教二教学楼"},geometry:{type:"Polygon",coordinates:[[[676.8081331195563,-303.6325659872806],[677.1163944771988,-303.23905704431473],[677.3584367283848,-303.3186721998935],[681.2764766409788,-297.6853290883288],[681.2656684649825,-297.17247352591016],[681.3749680475935,-296.9515909432241],[721.4259581386484,-309.2101937127233],[721.6590189478093,-309.2101937127233],[721.6941835767551,-311.9674964144412],[716.9254945448987,-318.76888367276695],[714.8518470319079,-321.32341890368],[713.767680419992,-321.28536194594636],[713.0132392898802,-321.86611112096176],[705.8624891595597,-319.6559152436227],[705.8624891595597,-318.694292035609],[703.302473726733,-317.8069560090914],[698.4703056893768,-324.7794473493876],[676.7393261399739,-318.601280830908]]]}},{type:"Feature",id:"24335-b",properties:{name:"阶三教室"},geometry:{type:"Polygon",coordinates:[[[549.4059918655868,-315.3267636820497],[553.7029512013365,-308.97692854714114],[564.8790434542506,-312.24831910939076],[564.8559029723909,-313.2679126410962],[565.0490662435014,-313.2938777827134],[565.3541294973137,-317.32173395617934],[562.4721074185625,-321.18684627130807],[561.648610458485,-322.44544947480375],[559.6838423156089,-323.0505785074728],[557.4925581883315,-323.3853006887391],[553.7066449871734,-323.55847406002715],[551.3361036060533,-323.06198578726276],[549.8287130623759,-322.58146770620436],[549.1917522870548,-322.3318112399434],[549.396540119475,-315.47864346439644]]]}},{type:"Feature",id:"25839",properties:{name:"第四食堂"},geometry:{type:"Polygon",coordinates:[[[780.6562173795435,-338.0066156446773],[830.4655744277221,-329.4071120392708],[823.6652907173849,-326.36415345740863],[823.9055475342982,-320.03864194961164],[829.1518907845074,-315.1173520399323],[829.2497159406587,-313.162394686868],[830.5331466574789,-312.07461428235035],[831.9137400576097,-312.70153441398367],[833.1064119952467,-311.5176954475567],[833.1141408450555,-309.49472421617503],[835.7598365467458,-307.2663864041597],[837.1062021834376,-307.98097377505275],[838.1829413739426,-307.26219074283495],[873.8908899634102,-323.64580656751576],[874.0640161991272,-324.20250457802916],[876.911545292967,-325.8666363540026],[876.1936455578702,-326.60926840848754],[876.1320355836801,-331.57891883554186],[866.8359958579434,-340.01882282674455],[865.8043048206096,-340.4145399369548],[836.5974230417387,-326.92858031773085],[835.2839602228044,-327.97263751475873],[835.2124131560029,-330.9590650808766],[833.7825759413761,-330.24911501986884],[830.4189805045891,-329.2372981677576]]]}},{type:"Feature",id:"24119-b",properties:{name:"11号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[867.7454014948136,-354.80257608828373],[865.1923664287544,-353.6726506770167],[863.170894386041,-355.49339146208945],[863.068779646677,-357.5675034030722],[860.9575199293839,-359.5348363099074],[854.2177805493968,-356.26183402764667],[854.2059532304819,-354.4111084903952],[850.6052842396906,-352.961512304512],[832.1548333143589,-344.462667463375],[832.1821527552328,-334.93201398337783],[832.5018235298489,-334.62333761789387],[832.4218641907058,-333.85256290494493],[835.3070636781222,-331.36049683498254],[835.234100781154,-328.02202784379836],[836.5799164081076,-326.8691141225276],[867.6532816728422,-341.21165399937854],[867.6319591824041,-354.8893652876453]]]}},{type:"Feature",id:"24120",properties:{name:"12号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[824.6839657270813,-341.10537471110075],[850.6925731849219,-353.0517997249612],[850.7858590805889,-352.94685309233574],[854.1586439548221,-354.5325467367189],[854.2835804222334,-366.9395708604353],[851.9842496759974,-365.7420131748097],[850.1188649265696,-367.55542435379436],[849.9897639102447,-369.48844137758067],[847.1328833554415,-372.0409766977701],[840.5875451187462,-368.81761583856076],[840.4577777745951,-366.20960872684077],[818.0659977573309,-355.833551817361],[818.1619489643027,-343.80833353805326],[819.4459626853769,-342.61877178634194],[821.7957677644471,-343.7853452280496]]]}},{type:"Feature",id:"24121",properties:{name:"13号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[809.595138684894,-352.0156599552309],[840.6506796802781,-366.3148885233793],[840.7446319037714,-375.97164454448347],[815.2331050042708,-368.4283138061074],[810.0597357617072,-375.8240529309817],[805.0840993015664,-373.33531850015027],[805.0096371669893,-359.9387975545371],[805.3629574968282,-359.70558281536944],[805.4840625792388,-358.85701432871247],[808.1388792207489,-356.2485074711229],[808.2381620668516,-353.05629743778803]]]}},{type:"Feature",id:"26470",properties:{name:"工程实训附属楼"},geometry:{type:"Polygon",coordinates:[[[791.4728988327132,-382.9652106871572],[789.080241622273,-386.6013444094317],[787.4591856566302,-386.09163195683504],[777.4816584947625,-383.1341903692656],[777.6191402056456,-370.7701471108444],[761.0888464262134,-365.8584446041664],[761.0888464262134,-365.42242551821016],[761.1381734377551,-365.11893563193803],[761.3610364417082,-364.60803457665355],[761.4793024091393,-364.2340209309083],[764.5171727785798,-359.9160254667613],[790.9509041523431,-367.7738778354751],[791.1941715024359,-367.88005967558075],[791.445759071343,-368.1750312425907],[791.5378757796436,-368.5016988812739]]]}},{type:"Feature",id:"23603",properties:{name:"实训中心1"},geometry:{type:"Polygon",coordinates:[[[840.3190437439843,-414.63141587639177],[835.1421244449666,-421.758852699392],[746.8732231361957,-396.1192401731256],[747.1453021061775,-392.5875357957342],[746.6193687800895,-392.15062890202915],[746.3305167141516,-391.7750083204717],[746.0595667025516,-391.1903691585371],[746.2018154586416,-371.3974708111544],[751.4638904755907,-363.5868528874769],[751.8267699554121,-363.3028392146033],[752.2193249126946,-363.3715443961162],[777.5321846273528,-370.8660539729269],[777.63282320309,-383.1923441435029],[810.4063237431089,-392.726558956448],[810.1113430459562,-375.7836354036988],[815.2843916305225,-368.472017084718],[840.473388482735,-375.8333095724921],[840.902715227306,-376.2205422974038],[841.0533505313741,-376.51826475062626],[841.2576919984558,-413.6337392265359]]]}},{type:"Feature",id:"23601",properties:{name:"基建处"},geometry:{type:"Polygon",coordinates:[[[665.6708134008754,-401.47219915431333],[665.5680982091242,-400.7309526436461],[665.6160171754702,-399.1452452746608],[665.3617249755893,-398.87054314466945],[665.2318335182019,-396.1544140487541],[665.3243992066646,-392.00132604188644],[674.1579056972741,-392.0049865184823],[674.1607897091376,-396.1896877323145],[673.9538063961702,-396.4236254638517],[673.9570786403997,-399.0152428937402],[673.7615759131193,-399.15362000141806],[673.6621329655977,-401.6685892698594]]]}},{type:"Feature",id:"24377",properties:{name:"后勤综合管理中心"},geometry:{type:"Polygon",coordinates:[[[356.25405175317326,-202.54589432579908],[340.71134006170297,-198.24507298961788],[340.71516534048715,-193.1836251667738],[343.51486674957505,-189.0577600023528],[343.58533241138866,-188.59288796484498],[343.1303255665348,-188.49161874229563],[343.08804616944656,-183.3011180931014],[346.16175833775844,-178.80480487800287],[365.19694955917606,-184.21737302714132],[365.36284586013164,-189.23392415688696],[364.1536551034093,-190.95449428791423],[364.1365420141116,-191.9931581430476],[362.28530841303564,-194.98835143105282],[360.82767586580445,-197.1206423575342],[359.9985970219512,-198.1385691750481],[359.41916795138053,-199.00549814581845],[358.89933269765805,-198.9914050134557]]]}},{type:"Feature",id:"24119-a",properties:{name:"10号宿舍楼"},geometry:{type:"Polygon",coordinates:[[[641.067410932621,-206.48571781246864],[643.556701780106,-207.62999573667665],[643.7670166433008,-207.50619441566496],[646.7435541184818,-209.00699066788167],[646.6305117217962,-209.17441721629746],[668.1682570147045,-219.45523263116803],[668.8003806644891,-218.94013070624442],[670.4817205098478,-219.90121215186014],[670.7247542935959,-236.4314887748957],[669.3893212344448,-236.69161893154526],[669.3996380111957,-237.2810016490759],[668.163098626329,-237.97075186614103],[667.1720985281354,-237.7088531191913],[665.2987192526836,-239.91472737107455],[659.1098322622993,-237.56928186800312],[658.947416719734,-232.10212710261197],[658.8532392862501,-232.05688066743272],[658.8355533832485,-230.05748933309394],[657.2508964742988,-229.14239123528256],[656.596223298187,-229.65071356405556],[637.9593005593877,-220.61232877152037],[638.1472167893636,-211.4041684586511],[639.9232769544818,-209.6086275560107],[639.9475284848666,-207.2820709033607]]]}},{type:"Feature",id:"26472",properties:{name:"学生活动中心 B区"},geometry:{type:"Polygon",coordinates:[[[696.107967200915,-270.80740088636315],[687.6400214783683,-266.76518200294237],[687.8499126556917,-262.25264677462553],[686.5030066977553,-261.64673922816894],[682.0425064692993,-267.4118669771745],[680.7719018332741,-267.5559638998661],[678.8896357806154,-267.54545683258647],[676.2063309320222,-267.3375670014117],[673.7609361068311,-266.97006981489443],[671.8621589484474,-266.7686843587022],[670.2165520778482,-265.9248667888435],[668.2787486695688,-265.3474784250029],[666.1593230983137,-264.28801580764394],[665.4988788693107,-263.9020061692531],[662.9116386358451,-263.25457069021536],[663.0239641884293,-253.37792744739744],[674.3455793504598,-238.5784730158214],[677.0824202085254,-239.36500205217956],[677.5447311688275,-238.5864784004154],[677.7085913847354,-235.96121259012844],[682.5548510833137,-231.59602647199446],[686.1340085016267,-233.20836096287493],[686.151520280426,-234.53900598335488],[688.4760838319017,-235.60447263915938],[689.4957696945594,-234.72513117516482],[693.2020125933018,-236.3232060747373],[693.1857516558453,-237.79769784964026],[694.7630625891271,-238.5842268859984],[695.8190228507262,-237.68862448454732],[699.9377932243269,-239.5338656334588],[699.9723164453884,-242.21241728494945],[704.704749581771,-244.30657586107986],[705.9643468139794,-243.32416507043786],[714.3652474405516,-247.29483582904996],[714.4167821038753,-253.74817648486885]]]}},{type:"Feature",id:"26471",properties:{name:"学生活动中心 A区"},geometry:{type:"Polygon",coordinates:[[[721.1680731675513,-282.01493931792953],[721.2381202827485,-275.22262065820945],[739.3137783594092,-258.71351627928243],[747.7101759571473,-262.4377712933612],[747.8262540337599,-268.96941461724],[743.2992090458665,-273.3351010719111],[745.3953689681454,-274.32676808848987],[745.8739408659039,-274.00505169511945],[754.6153205059886,-278.0705362275164],[754.7976931737702,-280.81763398459304],[750.1983495562624,-284.74177344525265],[748.1272064608397,-283.8551771014698],[747.692664178348,-284.47609474404004],[749.4653565293764,-289.0709353327137],[748.5187198011388,-289.65232638885124],[747.3099067274484,-289.8839822055394],[746.1241091344657,-290.17792992109946],[744.765945604444,-290.3322837428021],[744.1497811589765,-290.45536653093444],[742.152687871048,-290.45536653093444],[740.2734238376121,-290.21195280562387],[738.2770810544894,-289.86597009020295],[736.9977205290645,-289.7654024462411],[735.7548845708498,-289.3731386011363],[734.2811433007525,-288.57109913212736],[733.5046209951369,-287.6857536296873],[733.0345548185093,-287.09685752549296],[732.4756789065424,-286.8276764685205],[732.8284161652144,-285.30014902068245],[733.9564248881593,-284.7375205846871],[733.7933151770571,-284.1716399612004],[732.3310816473137,-283.68931553941337],[729.4614014386418,-285.72593541377455]]]}},{type:"Feature",id:"24250",properties:{name:"东一教学楼"},geometry:{type:"Polygon",coordinates:[[[733.9283169719414,-371.587354448544],[730.9804470097945,-374.9453773131512],[702.9557097063226,-366.64174263916703],[696.5929898977204,-364.0350723379074],[696.4417683058567,-350.41656935743276],[699.8138195885772,-345.69826547544835],[705.8845580845873,-347.65796415491394],[705.9967854294924,-348.40979225785867],[724.8776095909831,-353.6794843026289],[726.0474369997395,-351.95375110491455],[731.2809880351335,-353.6278882563484],[731.4593153840293,-356.4887344722341],[731.9132179294188,-356.6489913164418],[733.2390223260095,-357.13190177725164],[733.7889838700041,-357.5054381307387],[733.8446220028596,-358.65933496299385],[734.2057943268233,-358.85311734879394],[734.4226403830805,-368.771922264177],[733.8503284780243,-369.24460862365015]]]}},{type:"Feature",id:"24251",properties:{name:"东二教学楼"},geometry:{type:"Polygon",coordinates:[[[705.8876462901131,-348.17773082216536],[706.003007380086,-336.6065754177842],[706.0745604612086,-336.51457859919816],[706.4145106098886,-336.59489328209077],[710.3946142406535,-330.70768099936697],[710.5248700536357,-330.22418660835353],[710.6577543471489,-330.03625025038485],[740.7970803295145,-338.7102360027856],[740.859871808867,-339.600414742628],[742.7722374218879,-340.17400760517734],[743.2637632811906,-339.6779549182934],[745.4091875012962,-340.2221964149129],[745.9859929511612,-355.26820308131647],[744.5594581562924,-356.8388662253034],[738.689915103805,-356.1632007021324],[736.0713643881139,-359.78948164808133],[734.0283048820223,-358.8972585344926],[733.7711518700698,-357.21590715481005],[731.3853677080712,-356.23475378325486],[731.3465246068904,-353.49193434912445],[726.1262162455675,-351.86446682032806],[724.8521333214985,-353.87247991933924]]]}},{type:"Feature",id:"24252",properties:{name:"东三教学楼"},geometry:{type:"Polygon",coordinates:[[[745.3964066161975,-346.70192510219914],[745.291298545485,-340.3895331458686],[743.2015679452171,-339.68306906403006],[742.7689510031156,-340.2196863805485],[740.8099285657246,-339.4372835637806],[740.6619895715835,-338.80626590740667],[712.8360432401416,-330.6286364667097],[714.5226954661896,-328.1869045991843],[714.2030635462359,-323.629226652396],[718.309293713898,-317.8214518973788],[723.6021127688433,-319.40176527905254],[723.8024827209746,-320.77961639337013],[743.6984312724613,-326.35305184319213],[744.8819432255902,-324.54344532833625],[750.6001176580329,-326.3100978423974],[750.7149488406732,-329.465801511098],[752.9725569684023,-330.30051220848986],[753.1240652061624,-331.03713024504106],[753.6292977943066,-331.17534612725444],[754.2455461667396,-344.0750848759481],[750.2270241687261,-348.24795585087344]]]}},{type:"Feature",id:"24253",properties:{name:"东四教学楼"},geometry:{type:"Polygon",coordinates:[[[725.8013452582632,-321.282160404232],[725.4546768920097,-308.37720458913907],[728.1310137442379,-304.1577417444658],[731.966953903886,-305.25457382507426],[732.8895007221735,-304.15227303909967],[733.1819575743626,-303.31888989525993],[760.9789114108448,-311.2751428935951],[761.1011250872881,-312.1023440226731],[762.6739723045491,-312.72744082300255],[763.2662568726817,-312.01769797439727],[765.3579177903302,-312.83895485851207],[765.9276142276027,-327.87694353619736],[764.1745375030576,-330.5081041267053],[758.9262447401549,-328.7117532988282],[753.7521361543928,-331.3795304383094],[753.2209584244819,-331.04760379956474],[752.9784332299836,-330.193059143656],[751.803137115861,-329.78100408280744],[750.6380651030751,-329.1968036878248],[750.2845014126642,-326.43510747792516],[744.8122294995484,-324.5096476494475],[743.536594530447,-326.2437027901103]]]}}]},M=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(S)}),Y=new ol.layer.Vector({source:M,style:v}),A=new ol.Map({target:"map",layers:[b,Y],view:new ol.View({center:[641.5850830105265,-305.29083252082273],resolutions:F,zoom:2,minZoom:0,maxZoom:3})}),T=new ol.layer.Vector({source:new ol.source.Vector,map:A,style:E}),k=document.getElementById("popup"),I=document.getElementById("popup2"),L=new ol.Overlay({element:k,positioning:"bottom-center",stopEvent:!1,offset:[0,-50]}),R=new ol.Overlay({element:I,positioning:"bottom-center",stopEvent:!1,offset:[0,-50]});A.addOverlay(L),A.addOverlay(R);var O;A.on("pointermove",function(e){var t=A.forEachFeatureAtPixel(e.pixel,function(e){return e});if(t!==O){if(O&&(T.getSource().removeFeature(O),$(I).popover("hide"),$(I).popover("destroy")),t){T.getSource().addFeature(t);var a=t.getGeometry().getExtent(),r=ol.extent.getCenter(a);R.setPosition(r),$(I).popover("destroy"),$(I).popover({placement:"top",html:!0,content:t.get("name")}),$(I).popover("show")}O=t}});var B=["COLDWATERMETER","HOTWATERMETER","ULTRACOLDWATERMETER"],C=["ELECTRICITYMETER","MELECTRICITYMETER"],W=["70%","90%"],z={show:!0,position:"center",formatter:["{a|{b}}"].join("\n"),rich:{a:{fontSize:16},b:{fontSize:18,lineHeight:28,marginTop:30}}},H=c("06"),j=c("18");m.returnBuildingData=function(t,a){var r={};return m.waterPercentage=[],e.eca.analysis({nodes:[t],projectid:u,timetype:"DAY",timefrom:g,timeto:g,devicetype:a,detail:!0},function(e){switch(a){case B:r.water={},r.water.name="水",r.water.data=[],r.water.waterDataArr=[],r.water.dayWaterTime=[],r.water.dayWaterData=[],r.water.nightWaterTime=[],r.water.nightWaterData=[],angular.forEach(e.result,function(e){r.water.data.push({name:r.water.name,value:e.data.usagesum}),r.water.costsum=e.data.costsum,r.water.kgcesum=e.data.kgcesum,r.water.usagesum=e.data.usagesum}),
angular.forEach(e.result[0].data.usage,function(e){r.water.waterDataArr.push(e.value),H<=e.timepoint&&e.timepoint<j&&(r.water.dayWaterTime.push(p(e.timepoint)),r.water.dayWaterData.push(e.value)),(e.timepoint<H||e.timepoint>=j)&&(r.water.nightWaterTime.push(p(e.timepoint)),r.water.nightWaterData.push(e.value))});break;case C:r.electricity={},r.electricity.name="电",r.electricity.data=[],r.electricity.electricityDataArr=[],r.electricity.dayElectricityTime=[],r.electricity.dayElectricityData=[],r.electricity.nightElectricityTime=[],r.electricity.nightElectricityData=[],angular.forEach(e.result,function(e){r.electricity.data.push({name:r.electricity.name,value:e.data.usagesum}),r.electricity.costsum=e.data.costsum,r.electricity.kgcesum=e.data.kgcesum,r.electricity.usagesum=e.data.usagesum}),angular.forEach(e.result[0].data.usage,function(e){r.electricity.electricityDataArr.push(e.value),H<=e.timepoint&&e.timepoint<j&&(r.electricity.dayElectricityTime.push(p(e.timepoint)),r.electricity.dayElectricityData.push(e.value)),(e.timepoint<H||e.timepoint>=j)&&(r.electricity.nightElectricityTime.push(p(e.timepoint)),r.electricity.nightElectricityData.push(e.value))});break;default:r.all={},r.all.name="总能耗",r.all.data=[],r.all.allDataArr=[],angular.forEach(e.result,function(e){r.all.data.push({name:r.all.name,value:e.data.kgcesum}),r.all.costsum=e.data.costsum,r.all.kgcesum=e.data.kgcesum,r.all.usagesum=e.data.usagesum}),angular.forEach(e.result[0].data.usage,function(e){r.all.allDataArr.push(e.value)})}m.time.length||angular.forEach(e.result[0].data.usage,function(e){m.time.push(p(e.timepoint))})}),r},m.lastData={water:{},ele:{}},m.returnLastDayData=function(t,a,r,o){i.returnArr;var n,l="";switch(r){case"nowYear":l="YEAR",n=f;break;case"lastYear":l="YEAR",n=h;break;case"nowMonth":l="MONTH",n=w;break;case"lastMonth":l="MONTH",n=D;break;case"lastDay":l="DAY",n=d;break;case"nowDay":l="DAY",n=g}switch(o){case"water":e.eca.analysis({nodes:[t],projectid:u,timetype:l,timefrom:n,timeto:n,devicetype:a,detail:!0},function(e){switch(r){case"nowYear":m.lastData.water.nowYear=e.result[0].data.usagesum;break;case"lastYear":m.lastData.water.lastYear=e.result[0].data.usagesum;break;case"nowMonth":m.lastData.water.nowMonth=e.result[0].data.usagesum;break;case"lastMonth":m.lastData.water.lastMonth=e.result[0].data.usagesum;break;case"lastDay":m.lastData.water.lastDay=e.result[0].data.usagesum;break;case"nowDay":m.lastData.water.nowDay=e.result[0].data.usagesum}});break;case"ele":e.eca.analysis({nodes:[t],projectid:u,timetype:l,timefrom:n,timeto:n,devicetype:a,detail:!0},function(e){switch(r){case"nowYear":m.lastData.ele.nowYear=e.result[0].data.usagesum;break;case"lastYear":m.lastData.ele.lastYear=e.result[0].data.usagesum;break;case"nowMonth":m.lastData.ele.nowMonth=e.result[0].data.usagesum;break;case"lastMonth":m.lastData.ele.lastMonth=e.result[0].data.usagesum;break;case"lastDay":m.lastData.ele.lastDay=e.result[0].data.usagesum;break;case"nowDay":m.lastData.ele.nowDay=e.result[0].data.usagesum}})}},m.arr=[],m.chartsIsOpen=!1;var G;A.on("click",function(e){G&&G.resolve(),G=t.defer(),m.chartsIsOpen=!1,i.$apply();var a=A.forEachFeatureAtPixel(e.pixel,function(e,t){return e});if(a){$(k).popover("destroy");var r=a.getGeometry().getExtent(),o=ol.extent.getCenter(r);L.setPosition(o),$(k).popover({placement:"top",html:!0,content:a.get("name")}),$(k).popover("show"),m.chartsIsOpen=!0,i.waterData=null,i.electricityData=null,i.fx=null,i.waterPercentage=0,i.elePercentage=0,m.time=[],m.config={dataLoaded:!0},i.waterData=m.returnBuildingData(a.getId(),B),i.electricityData=m.returnBuildingData(a.getId(),C),i.fx=m.returnBuildingData(a.getId()),i.$watch("waterData",function(){m.waterPie={series:[{type:"pie",radius:W,hoverAnimation:!1,label:z,itemStyle:{color:"#44faef"},data:i.waterData.water.data}]}},!0),i.$watch("electricityData",function(){m.electricityPie={series:[{type:"pie",radius:W,hoverAnimation:!1,label:z,itemStyle:{color:"#6ccd2c"},data:i.electricityData.electricity.data}]}},!0),i.$watch("electricityData.electricity.usagesum + fx.all.usagesum",function(){i.elePercentage=(i.electricityData.electricity.usagesum/i.fx.all.usagesum*100).toFixed(2),m.conditionerPie={series:[{type:"pie",radius:W,hoverAnimation:!1,label:{show:!0,position:"center",formatter:["{a|{b}}"].join("\n"),rich:{a:{fontSize:16},b:{fontSize:18,lineHeight:28}}},itemStyle:{color:"#6ccd2c"},data:[{name:"电占比",value:i.elePercentage}]}]}},!0),i.$watch("waterData.water.usagesum +fx.all.usagesum",function(){i.waterPercentage=(i.waterData.water.usagesum/i.fx.all.usagesum*100).toFixed(2),m.fuelPie={series:[{type:"pie",radius:W,hoverAnimation:!1,label:{show:!0,position:"center",formatter:["{a|{b}}"].join("\n"),rich:{a:{fontSize:16},b:{fontSize:18,lineHeight:28}}},itemStyle:{color:"#44faef"},data:[{name:"水占比",value:i.waterPercentage}]}]}},!0),i.$watch("fx",function(){m.fxPie={series:[{type:"pie",radius:["60%","75%"],label:{show:!0,position:"center",formatter:["{a|{b}}","{b|{c}}"].join("\n"),rich:{a:{fontSize:18,color:"#16BBBF"},b:{fontSize:20,lineHeight:28,color:"#16BBBF"}}},itemStyle:{color:"#7CB5EC"},data:i.fx.all.data}]}},!0),m.selectRy="all",i.$watch("waterData.water.waterDataArr+electricityData.electricity.electricityDataArr",function(e,t){i.$watch("$ctrl.selectRy",function(){"all"==m.selectRy&&(m.ry={grid:{left:"1",top:"top",right:"1",bottom:"50"},legend:{type:"plain",bottom:5,textStyle:{color:"#fff"}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:m.time,axisLine:{lineStyle:{color:"#fff"}}},yAxis:{show:!1,max:function(e){return e.max+.1*e.max}},label:{show:!0,position:"top",color:"#fff"},series:[{data:i.waterData.water.waterDataArr,type:"bar",name:"水",itemStyle:{color:"#44faef"}},{data:i.electricityData.electricity.electricityDataArr,type:"bar",name:"电",itemStyle:{color:"#6ccd2c"}}],animationEasing:"elasticOut",animationDelayUpdate:function(e){return 100*e}}),"day"==m.selectRy&&(m.ry={grid:{left:"1",top:"top",right:"1",bottom:"50"},legend:{type:"plain",bottom:5,textStyle:{color:"#fff"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:i.electricityData.electricity.dayElectricityTime.length?i.electricityData.electricity.dayElectricityTime:i.waterData.water.dayWaterTime,axisLine:{lineStyle:{color:"#fff"}},max:function(e){return e.max+.1*e.max}},yAxis:{type:"value",show:!1},label:{show:!0,position:"top",color:"#fff"},series:[{data:i.waterData.water.dayWaterData,type:"bar",name:"水",itemStyle:{color:"#44faef"}},{data:i.electricityData.electricity.dayElectricityData,type:"bar",name:"电",itemStyle:{color:"#6ccd2c"}}],animationEasing:"elasticOut",animationDelayUpdate:function(e){return 100*e}}),"night"==m.selectRy&&(m.ry={grid:{left:"1",top:"top",right:"1",bottom:"50"},legend:{type:"plain",bottom:5,textStyle:{color:"#fff"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:i.electricityData.electricity.nightElectricityTime.length?i.electricityData.electricity.nightElectricityTime:i.waterData.water.nightWaterTime,axisLine:{lineStyle:{color:"#fff"}}},yAxis:{type:"value",show:!1,max:function(e){return e.max+.1*e.max}},label:{show:!0,position:"top",color:"#fff"},series:[{data:i.waterData.water.nightWaterData,type:"bar",name:"水",itemStyle:{color:"#44faef"}},{data:i.electricityData.electricity.nightElectricityData,type:"bar",name:"电",itemStyle:{color:"#6ccd2c"}}],animationEasing:"elasticOut",animationDelayUpdate:function(e){return 100*e}})})},!0),i.$watch("fx",function(){m.fx={grid:{left:"1",top:"30",right:"1",bottom:"30"},legend:{type:"plain",top:5,textStyle:{color:"#fff"}},tooltip:{trigger:"axis"},xAxis:{type:"category",data:m.time,axisLine:{lineStyle:{color:"#fff"}}},yAxis:{show:!1,max:function(e){return e.max+.1*e.max}},label:{show:!0,position:"top",color:"#fff"},series:[{data:i.fx.all.allDataArr,type:"bar",name:"总能耗",itemStyle:{color:"#7CB5EC"}}],animationEasing:"elasticOut",animationDelayUpdate:function(e){return 100*e}}},!0),m.returnLastDayData(a.getId(),B,"lastMonth","water"),m.returnLastDayData(a.getId(),B,"nowMonth","water"),m.returnLastDayData(a.getId(),C,"lastMonth","ele"),m.returnLastDayData(a.getId(),C,"nowMonth","ele"),m.returnLastDayData(a.getId(),B,"lastYear","water"),m.returnLastDayData(a.getId(),B,"nowYear","water"),m.returnLastDayData(a.getId(),C,"lastYear","ele"),m.returnLastDayData(a.getId(),C,"nowYear","ele"),m.returnLastDayData(a.getId(),B,"lastDay","water"),m.returnLastDayData(a.getId(),B,"nowDay","water"),m.returnLastDayData(a.getId(),C,"lastDay","ele"),m.returnLastDayData(a.getId(),C,"nowDay","ele"),i.$watch("$ctrl.lastData",function(e,t){m.waterQoq=m.lastData.water.nowMonth-m.lastData.water.lastMonth?((m.lastData.water.nowMonth-m.lastData.water.lastMonth)/(m.lastData.water.lastMonth?m.lastData.water.lastMonth:1)).toFixed(2):0,m.eleQoq=m.lastData.ele.nowMonth-m.lastData.ele.lastMonth?((m.lastData.ele.nowMonth-m.lastData.ele.lastMonth)/(m.lastData.ele.lastMonth?m.lastData.ele.lastMonth:1)).toFixed(2):0,m.waterYoy=m.lastData.water.nowYear-m.lastData.water.lastYear?((m.lastData.water.nowYear-m.lastData.water.lastYear)/(m.lastData.water.lastYear?m.lastData.water.lastYear:1)).toFixed(2):0,m.eleYoy=m.lastData.ele.nowYear-m.lastData.ele.lastYear?((m.lastData.ele.nowYear-m.lastData.ele.lastYear)/(m.lastData.ele.lastYear?m.lastData.ele.lastYear:1)).toFixed(2):0,m.waterCP=m.lastData.water.nowDay-m.lastData.water.lastDay?((m.lastData.water.nowDay-m.lastData.water.lastDay)/(m.lastData.water.lastDay?m.lastData.water.lastDay:1)).toFixed(2):0,m.eleCP=m.lastData.ele.nowDay-m.lastData.ele.lastDay?((m.lastData.ele.nowDay-m.lastData.ele.lastDay)/(m.lastData.ele.lastDay?m.lastData.ele.lastDay:1)).toFixed(2):0},!0)}})}]});