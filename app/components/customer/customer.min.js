angular.module("app").component("customer",{templateUrl:"app/components/customer/customer.html?rev=a5123f6c9b",bindings:{customerSelected:"="},controller:["$element","$timeout","$api","$stateParams",function(t,e,c,o){var n=this;"CUSTOMER"==o.datatype?c.customer.info({project:APP.Project[0]._id,onlynode:1},function(t){n.customer={core:{data:[{id:"ROOT",parent:"#",text:"全部",state:{selected:!0,opened:!0},icon:"glyphicon glyphicon-th-list"}]},conditionalselect:function(t,e){return"ROOT"===t.id?n.customerSelected=void 0:n.customerSelected=t.id,!0},plugins:["search","conditionalselect"]},function t(e,c){angular.forEach(e,function(e,o){e.parent=c,e.text=e.title,Object.keys(e.child).length?e.icon="glyphicon glyphicon-th-list":e.icon="glyphicon glyphicon-file",t(e.child,e.id),n.customer.core.data.push(e)})}(t.result,"ROOT")}):c.eca.info({projectid:APP.Project[0]._id,type:o.datatype||"BYCATEGORY"},function(t){n.customer={core:{data:[{id:"ROOT",parent:"#",text:"全部",state:{selected:!0,opened:!0},icon:"glyphicon glyphicon-th-list"}]},conditionalselect:function(t,e){return"ROOT"===t.id?n.customerSelected=void 0:n.customerSelected=t.id,!0},plugins:["search","conditionalselect"]},function t(e,c){angular.forEach(e,function(e,o){e.parent=c,e.text=e.title,Object.keys(e.child).length?e.icon="glyphicon glyphicon-th-list":e.icon="glyphicon glyphicon-file",t(e.child,e.id),n.customer.core.data.push(e)})}(t.result,"ROOT")})}]});